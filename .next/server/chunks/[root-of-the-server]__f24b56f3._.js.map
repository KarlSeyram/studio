{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/api/paystack/initialize/route.ts"],"sourcesContent":["\nimport { NextResponse } from 'next/server';\n\nexport async function POST(req: Request) {\n  const { email, amount, metadata } = await req.json();\n\n  const PAYSTACK_SECRET_KEY = process.env.PAYSTACK_SECRET_KEY;\n\n  if (!PAYSTACK_SECRET_KEY) {\n    return NextResponse.json(\n      { error: 'Paystack secret key is not configured.' },\n      { status: 500 }\n    );\n  }\n\n  try {\n    const paystackResponse = await fetch('https://api.paystack.co/transaction/initialize', {\n      method: 'POST',\n      headers: {\n        Authorization: `Bearer ${PAYSTACK_SECRET_KEY}`,\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({\n        email,\n        amount,\n        metadata,\n        // You can add a callback_url here if you want Paystack to redirect\n        // back to a specific success page on your site.\n        // callback_url: 'https://your-domain.com/payment/success'\n      }),\n    });\n\n    const data = await paystackResponse.json();\n\n    if (!data.status) {\n      console.error('Paystack API Error:', data);\n      return NextResponse.json(\n        { error: data.message || 'Failed to initialize transaction with Paystack.' },\n        { status: 500 }\n      );\n    }\n    \n    return NextResponse.json(data.data);\n\n  } catch (error) {\n    console.error('Internal Server Error:', error);\n    return NextResponse.json(\n      { error: 'An internal error occurred.' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;AACA;;AAEO,eAAe,KAAK,GAAY;IACrC,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,QAAQ,EAAE,GAAG,MAAM,IAAI,IAAI;IAElD,MAAM,sBAAsB,QAAQ,GAAG,CAAC,mBAAmB;IAE3D,IAAI,CAAC,qBAAqB;QACxB,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAyC,GAClD;YAAE,QAAQ;QAAI;IAElB;IAEA,IAAI;QACF,MAAM,mBAAmB,MAAM,MAAM,kDAAkD;YACrF,QAAQ;YACR,SAAS;gBACP,eAAe,CAAC,OAAO,EAAE,qBAAqB;gBAC9C,gBAAgB;YAClB;YACA,MAAM,KAAK,SAAS,CAAC;gBACnB;gBACA;gBACA;YAIF;QACF;QAEA,MAAM,OAAO,MAAM,iBAAiB,IAAI;QAExC,IAAI,CAAC,KAAK,MAAM,EAAE;YAChB,QAAQ,KAAK,CAAC,uBAAuB;YACrC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;gBAAE,OAAO,KAAK,OAAO,IAAI;YAAkD,GAC3E;gBAAE,QAAQ;YAAI;QAElB;QAEA,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CAAC,KAAK,IAAI;IAEpC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,0BAA0B;QACxC,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAA8B,GACvC;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}